/* Import all components */
@import 'themes/default/globals/site.variables';
@import 'themes/pxt/globals/site.variables';

/* Reference import */
@import (reference) "semantic.less";

/*******************************
        High Contrast
*******************************/

/* Messages */
#msg .hc {
    background-color: black !important;
    border: 1px solid white !important;
    border-radius: 0em;
    color: white !important;
}

.hc {

@selected: #10C8CD;
@disabled: #3ff23f;
@hcYellow: yellow;

    *[tabindex='0']:focus,
    *[tabindex*='d1']:focus,
    *[tabindex*='d2']:focus, /* Takes items with a defined tabIndex from 0 to 29. */
    *[role='menuitem']:focus,
    a:not([tabindex='-1']):focus,
    input:not([tabindex='-1']):focus,
    button:not([tabindex='-1']):focus {
        outline: 2px solid @selected !important;
    }

    @media all and (pointer:coarse) { /* If touch screen */
        *[tabindex='0']:focus,
        *[tabindex*='d1']:focus,
        *[tabindex*='d2']:focus,
        *[role='menuitem']:focus,
        a:not([tabindex='-1']):focus,
        input:not([tabindex='-1']):focus,
        button:not([tabindex='-1']):focus {
            outline: 1px solid transparent !important;
        }
    }

    .blocklyWidgetDiv *:focus,
    .blocklySVG *:focus,
    .monaco-editor *:focus,
    #monacoEditor *:focus {
        outline: none !important;
    }

    .blocklyTreeRoot:focus {
        outline: none !important;
    }

    /* root */
    #root {
        background: black !important;
    }

    /* Simulator */
    #filelist {
        background: black !important;

        #boardview {
            background: black !important;
        }
    }

    /* Menu bar */
    .menubar .menu > .item:focus > i,
    .menubar .menu > .item:focus > span {
        color: @selected !important;
    }

    .menubar .editor-menuitem {
        border: none !important;
    }

    .menubar .accessibleMenu > .item:focus,
    .menubar .editor-menuitem > .item:focus:not(.active) {
        i, span {
            color: @selected !important;
        }
    }

    .menubar .ui.inverted.menu, .menubar .accessibleMenu .ui.item.link.inverted:hover {
        background: black !important;
        border-bottom: 1px solid white;
    }

    .menubar .ui.menu.inverted.fixed .ui.item.editor-menuitem .active.item {
        color: white !important;
    }

    .menubar .accessibleMenu .ui.item.link {
        color: white !important;
    }

    /* Editor toolbar */
    #editortools {
        background: black !important;
        border-top: 1px solid white;
    }

    /* Buttons */
    .ui.button {
        background: black !important;
        color: white !important;
        border: 1px solid white !important;

        &:focus {
            color: @selected !important;
            border-color: @selected !important;

            i, span {
                color: @selected !important;
            }
        }
    }

    .ui.button.disabled {
        opacity: 1 !important;
        border: 1px solid @disabled !important;

        i, span {
            color: @disabled !important;
        }
    }

    .ui.button.download-button:hover > span,
    .ui.button.download-button:hover > i {
        color: white !important;
    }

    /* Inputs */
    .ui.input input {
        background: black !important;
        color: white !important;
        border: 1px solid white !important;
    }
    input::placeholder {
        color: @hcYellow !important;
    }

    /* Hyperlinks */
    a {
        color: @hcYellow !important;
    }

    #sidedocsbar {
        background-color: black !important;

        a {
            color: white !important;
            outline: 1px solid white !important;

            &:focus {
                color: @selected !important;

                i, span {
                    color: @selected !important;
                }
            }
        }
    }

    /** Top menu **/
    #mainmenu, #downloadArea {
        background-color: black !important;
        color: white !important;
    }
    
    /* Items */
    .ui.item {
        background: black !important;
        color: white !important;
    }

    /* Dropdown */
    .ui.menu .ui.dropdown .menu {
        border: 1px solid white !important;
    }

    .ui.menu .ui.dropdown .menu, .ui.menu .ui.dropdown .menu > .item {
        background: black !important;
        color: white !important;

        &:focus {
            color: @selected !important;
            font-weight: normal !important;

            i, span {
                color: @selected !important;
                font-weight: normal !important;
            }
        }
    }

    .ui.menu .ui.dropdown .menu > .divider {
        background: black !important;
        border-top: 1px solid white !important;
    }

    /* Editor switch toggle */
    .menubar .ui.menu .item.editor-menuitem {
        border: 1px solid white !important;
    }

    .menubar .ui.menu .item.editor-menuitem .active {
        background: @selected !important;
        color: black !important;
    }

    /* Modals */
    .ui.modal {
        border: 2px solid white !important;
        border-radius: initial !important;
        box-shadow: initial !important;
    }

    .ui.modal, .ui.modal > .header, .ui.modal > .content, .ui.modal > .actions, .ui.modal > .segment {
        background: black !important;
        color: white !important;
    }

    /* Tab list in Modals*/
    .ui.secondary.menu > .item:not(.active), .ui.secondary.pointing.menu > .item:not(.active), .ui.secondary.inverted.menu .link.item:not(.active) {
        color: white !important;
        border: 1px solid white !important;
    }

    .ui.secondary.menu > .item.active, .ui.secondary.menu > .item.active:hover,
    .ui.secondary.pointing.menu > .item.active, .ui.secondary.pointing.menu > .item.active:hover {
        color: @selected !important;
        border: 2px solid @selected !important;
        border-radius: initial !important;
        box-shadow: initial !important;
    }

    .projectsdialog .tabsegment, .ui.modal .ui.inverted.segment, .ui.modal .ui.primary.inverted.segment {
        background: black !important;
        color: white !important;
        border-color: white !important;

        .header {
            opacity: 1 !important;
            color: white;
        }
    }

    /* Cards */
    .card {
        background: black !important;
        border: 2px solid white !important;
        border-radius: initial !important;
        box-shadow: initial !important;

        .header, .description, .meta {
            color: white !important;
        }

        &:focus {
            .header, .description, .meta {
                color: @selected !important;
            }
        }

        .ui.orange.labels .label, .ui.orange.label {
            background: @disabled !important;
            border-color: @disabled !important;
            color: black !important;
        }
    }

    #cookiemsg {
        background: black !important;
        border-radius: 0em;
        border: 1px solid white !important;
    }

    /* Tutorial */
    .ui.message {
        background-color: black !important;
        color: white !important;

        .tutorialmessage {
            outline: 1px solid white !important;
            border: none !important;

            &:focus {
                color: @selected !important;
            }
        }
    }

    .ui.label {
        background-color: black !important;
        border: 2px solid white !important;
    }

    .ui.blue.labels .label, .ui.blue.label {
        background-color: @selected !important;
        border-color: @selected !important;
    }

    /* Blockly / Monaco toolbox */
    .blocklyTreeSelected {
        background: @selected !important;
    }

    .blocklyToolboxDiv, .monacoToolboxDiv {
        background: black !important;
        border-left: 1px solid white !important;
        border-right: 1px solid white !important;
    }

    .blocklyTreeLabel, .blocklyTreeIcon {
        color: white !important;
    }

    .blocklyFlyoutBackground {
        fill: black !important;
        border-right: 1px solid white !important;
    }

    .monacoFlyout {
        background: black !important;
        border-right: 1px solid white !important;
    }

    /* Editor toolbox */
    .filemenu {
        .item {
            background: black !important;
            color: white !important;
            border: 1px solid white !important;
        }

        .item:focus, .item.active {
            background: @selected !important;

            span {
                color: black !important;
            }
        }
    }

    /* PxtJson */
    #maineditor {
        border-left: 1px solid white !important;
    }

    #maineditor, .ui.segment.form {
        background: black !important;

        label {
            color: white !important;
        }
    }

    #serialPreview div {
        color: #fff;
    }

    #serialCharts .ui.segment {
        background-color: #fff;
    }

    #serialEditor {
        background-color: #000;
    }

    #serialHeader .ui.header {
        color: #fff;
    }

    #serialConsole {
        background-color: #000;
        color: #fff;
        border-color: #fff;
    }

    #serialPreview .label {
        border: 10px solid #fff !important;
        &:hover {
            border-color: darken(#fff, 10.0) !important;
        }
    }

    /* Blockly blocks */
    .blocklyPath {
        stroke-width: 4px !important;
        fill: black;
    }
    .blocklyBlockBackground {
        stroke-width: 2px;
        fill: black;
    }
    .blocklyText {
        fill: white;
    }
    .blocklyFlyoutBackground {
        stroke-width: 1px;
        stroke: white;
    }
}